{% extends "page_layout/layout.html" %}

{% block title %} {{ super() }} Add Employee {% endblock %}
{% block css_or_js_code %}
<style>
    [type=radio]:not(:checked).rd,
    [type=radio]:checked.rd {
        position: absolute !important;
        left: auto;
        opacity: 1 !important;
    }
</style>
{% endblock  css_or_js_code %}
{% block main_content %}
<section class="content">
    <div class="box col-md-10">
        <div class="box-header">
            <div class="box-title">Leave Request Form</div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="form-group col-md-4">
                    {{ form.leave_type.label(class="form-control-label")}}
                    {{ form.leave_type(onChange="chooseLeaveTpe(1)", class="")}}
                </div>
                <div class="col-md-8" id="timeType">
                    <div class="row">
                        <div class="form-group col-md-6">
                            {{ form.number_of_hour.label(class="form-control-label")}}
                            {{ form.number_of_hour(class="form-control")}}
                        </div>
                        <div class="form-group col-md-3">
                            {{ form.from_hour.label(class="form-control-label")}}
                            {{ form.from_hour(class="form-control")}}
                        </div>
                        <div class="form-group col-md-3">
                            {{ form.to_hour.label(class="form-control-label")}}
                            {{ form.to_hour(class="form-control")}}
                        </div>
                    </div>
                </div>
                <div class="col-md-8 d-none" id="dateType">
                    <div class="row">
                        <div class="form-group col-md-6">
                            {{ form.number_of_day.label(class="form-control-label")}}
                            {{ form.number_of_day(class="form-control")}}
                        </div>
                        <div class="form-group col-md-3">
                            {{ form.from_date.label(class="form-control-label")}}
                            {{ form.from_date(class="form-control")}}
                        </div>
                        <div class="form-group col-md-3">
                            {{ form.to_date.label(class="form-control-label")}}
                            {{ form.to_date(class="form-control")}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock main_content%}
{% block js_code %}

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript"
    src="https://cdn.datatables.net/v/bs4/jszip-2.5.0/dt-1.10.25/b-1.7.1/b-colvis-1.7.1/b-html5-1.7.1/b-print-1.7.1/date-1.1.0/r-2.2.9/sb-1.1.0/sl-1.3.3/datatables.min.js">
</script>

<script src="{{url_for('static', filename='assets/vendor_components/jquery-toast-plugin-master/src/jquery.toast.js')}}">
</script>
<script src="{{url_for('static', filename='js/rpc.js')}}"></script>

<script>
    function uploadProfile() {
        $form = $("#upload_profile_pic");
        var formData = new FormData($form[0]);
        $.ajax({
            type: "POST",
            url: "upload_profile_pic",
            data: formData,
            processData: false,
            contentType: false,
            success: function (response) {
                if (response == "success")
                    location.reload()
                toastSuccess(response);
            },
            error: function (response) {
                var statusCode = response.status;
                var r = '';
                if (statusCode == '403') {
                    r = formValidateErrors(response);
                }
                toastError(r);
            }
        });
    };

    function chooseLeaveTpe(val)
    {
        if(val == 1)
        {
            $("#timeType").addClass("d-none");
            $("#dateType").removeClass("d-none");
        }
    }
</script>
{% endblock js_code %}